---
import "@/styles/global.css";
import SEOHead from "@/components/seo/SEOHead.astro";
import type { Locale } from "@/i18n/utils";

interface Props {
  title: string;
  description: string;
  locale: Locale;
  path: string;
  ogImage?: string;
  type?: "website" | "article";
  publishedTime?: string;
  noindex?: boolean;
}

const { locale, ...seoProps } = Astro.props;
---

<!doctype html>
<html lang={locale} class="scroll-smooth">
  <head>
    <SEOHead locale={locale} {...seoProps} />
    <slot name="head" />
    {/* Dark mode: inline script prevents flash of wrong theme */}
    <script is:inline>
      (function () {
        const stored = localStorage.getItem("AURYTH-theme");
        if (stored === "dark" || (!stored && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
          document.documentElement.classList.add("dark");
        }
      })();
    </script>
  </head>
  <body class="bg-background text-foreground min-h-screen antialiased">
    <slot />
  </body>
</html>
