---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Section from "@/components/layout/Section.astro";
import ScarcityBanner from "@/components/marketing/ScarcityBanner.astro";
import WaitlistForm from "@/components/marketing/WaitlistForm";
import WaitlistCounter from "@/components/marketing/WaitlistCounter";
import { t } from "@/i18n/utils";

const locale = "fr";
---

<BaseLayout
  title={`${t("waitlist.title", locale)} — ${t("site.title", locale)}`}
  description={t("waitlist.subtitle", locale)}
  locale={locale}
  path="/waitlist/"
>
  <main id="main-content">
    <Section class="py-24 md:py-32">
      <div class="mx-auto max-w-xl text-center">
        <h1 class="text-display text-foreground">{t("waitlist.title", locale)}</h1>
        <p class="mt-4 text-body-lg text-muted-foreground">
          {t("waitlist.subtitle", locale)}
        </p>

        <div class="mt-8">
          <ScarcityBanner text={t("scarcity.banner", locale)} />
        </div>

        <div class="mt-8 flex justify-center">
          <WaitlistForm
            client:load
            labels={{
              emailLabel: t("waitlist.email_label", locale),
              emailPlaceholder: t("waitlist.placeholder", locale),
              submit: t("waitlist.submit", locale),
              success: t("waitlist.success", locale),
              consent: t("waitlist.consent", locale),
              privacyLinkText: t("waitlist.privacy_link", locale),
              privacyHref: `/${locale}/privacy/`,
              errorInvalidEmail: t("waitlist.error_invalid_email", locale),
              errorRateLimit: t("waitlist.error_rate_limit", locale),
              errorGeneric: t("waitlist.error_generic", locale),
            }}
          />
        </div>

        <div class="mt-6 flex justify-center">
          <WaitlistCounter client:visible text={t("waitlist.counter", locale)} />
        </div>
      </div>
    </Section>

    <Section muted>
      <div class="mx-auto max-w-2xl text-center">
        <h2 class="text-h2 text-foreground">{t("pricing.founding_offer", locale)}</h2>
        <ul class="mt-6 space-y-2 text-body-sm text-muted-foreground text-left max-w-md mx-auto">
          <li>Remise de 30% applicable à tous les plans payants pour vos 12 premiers mois.</li>
          <li>100 places de membre fondateur sélectionnées par tirage au sort.</li>
          <li>Les tarifs standards s'appliquent après la première année.</li>
          <li>Les tarifs définitifs seront confirmés avant le lancement.</li>
        </ul>
      </div>
    </Section>
  </main>
</BaseLayout>
